function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("superagent")):"function"==typeof define&&define.amd?define(["superagent"],t):e.Matter=t(e.superagent)}(this,function(e){"use strict";function t(e){return new Promise(function(t,n){e.end(function(e,o){return e?(401==e.status&&console.warn("Unauthorized. You must be signed into make this request."),n(e)):t(o.body)})})}function n(e){return r.getItem(o.tokenName)&&(e=e.set("Authorization","Bearer "+r.getItem(o.tokenName)),console.log("Set auth header")),e}e="default"in e?e["default"]:e;var o={serverUrl:"http://tessellate.elasticbeanstalk.com",tokenName:"matter"};"undefined"==typeof window||""!=window.location.hostname&&"localhost"!=window.location.hostname||(o.serverUrl="http://localhost:4000");var r=Object.defineProperties({setItem:function(e,t){this.exists&&window.sessionStorage.setItem(e,t)},getItem:function(e){return this.exists?(console.log("item loaded from session"),window.sessionStorage.getItem(e)):null},removeItem:function(e){if(this.exists)try{window.sessionStorage.removeItem(e)}catch(t){console.warn("Item could not be removed from session storage.",t)}},clear:function(){if(this.exists)try{window.sessionStorage.clear()}catch(e){console.warn("Session storage could not be cleared.",e)}}},{exists:{get:function(){var e="test";if(console.log("storage exists called"),"undefined"==typeof window)return!1;try{return window.sessionStorage.setItem(e,"1"),window.sessionStorage.removeItem(e),!0}catch(t){return console.warn("Session storage does not exist.",t),!1}},configurable:!0,enumerable:!0}}),s=void 0;"undefined"==typeof window?s=e:"undefined"==typeof window.superagent?console.error("Superagent is required to use Matter"):s=window.superagent;var i={get:function(e,o){var r=s.get(e);return o&&r.query(o),r=n(r),t(r)},post:function(e,o){var r=s.post(e).send(o);return r=n(r),t(r)},put:function(e,o){var r=s.put(e).send(o);return r=n(r),t(r)},del:function(e,o){var r=s.put(e).send(o);return r=n(r),t(r)}},u=void 0,a=void 0,l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"signup",value:function(e){return i.post(o.serverUrl+"/signup",e).then(function(e){console.log(e)})["catch"](function(e){return console.error("[signup()] Error signing up:",e),Promise.reject(e)})}},{key:"login",value:function(e){return e&&e.password&&e.username||console.error("Username/Email and Password are required to login"),i.put(o.serverUrl+"/login",e).then(function(e){return console.log(e),a=e.data.token,null===window.localStorage.getItem(o.tokenName)&&(window.localStorage.setItem(o.tokenName,e.data.token),console.log("token set to storage:",window.localStorage.getItem(o.tokenName))),e.data})["catch"](function(e){return console.error("[login()] Error logging in: ",e),Promise.reject(e)})}},{key:"logout",value:function(){return i.put(o.serverUrl+"/logout",{}).then(function(e){return console.log("[logout()] Logout successful: ",e),"undefined"!=typeof window&&null!=typeof window.localStorage.getItem(o.tokenName)&&window.localStorage.setItem(o.tokenName,null),e.body})["catch"](function(e){return console.error("[logout()] Error logging out: ",e),Promise.reject(e)})}},{key:"getCurrentUser",value:function(){return i.get(o.serverUrl+"/user",{}).then(function(e){return console.log("[getCurrentUser()] Current User:",e.data),u=e.data})["catch"](function(e){return console.error("[getCurrentUser()] Error getting current user: ",e),Promise.reject(e)})}},{key:"getAuthToken",value:function(){return"undefined"==typeof window||"undefined"==typeof window.localStorage.getItem(o.tokenName)?null:window.localStorage.getItem(o.tokenName)}}]),e}(),c=new l;return c});
//# sourceMappingURL=matter.min.js.map