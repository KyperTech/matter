!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Matter=e():t.Matter=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function u(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(3),c=o(s),f=r(1),l=o(f),p=r(4),d=n(p),h=r(6),g=o(h),v=r(7),_=o(v),y=r(5),m=o(y),b=r(8),w=o(b),j=r(2),k=function(){function t(e,r){if(i(this,t),!e)throw l.default.error({description:"Application name required to use Matter.",func:"constructor",obj:"Matter"}),new Error("Application name is required to use Matter");this.name=e,r&&(this.options=r,this.options.logLevel&&(c.default.logLevel=this.options.logLevel)),this.config=c.default,l.default.debug({description:"Matter object built.",matter:this,func:"constructor",obj:"Matter"})}return a(t,[{key:"signup",value:function(t){if(l.default.debug({description:"Signup called.",signupData:t,func:"signup",obj:"Matter"}),!t||!(0,j.isObject)(t)&&!(0,j.isString)(t))return l.default.error({description:"Signup information is required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Signup data is required to signup.",status:"NULL_DATA"});if((0,j.isObject)(t))return t.username||t.email?t.password?g.default.post(this.endpoint+"/signup",t).then(function(e){return l.default.info({description:"Signup successful.",signupData:t,response:e,func:"signup",obj:"Matter"}),(0,j.has)(e,"account")?e.account:(l.default.warn({description:"Account was not contained in signup response.",signupData:t,response:e,func:"signup",obj:"Matter"}),e)}).catch(function(e){return l.default.error({description:"Error requesting signup.",signupData:t,func:"signup",obj:"Matter"}),Promise.reject(e)}):(l.default.error({description:"Password is required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Password is required to signup.",status:"PASS_REQUIRED"})):(l.default.error({description:"Email or Username required to signup.",func:"signup",obj:"Matter"}),Promise.reject({message:"Email or Username required to signup.",status:"ID_REQUIRED"}));l.default.debug({description:"Third party signup called.",provider:t,func:"signup",obj:"Matter"});var e=new w.default({provider:t,app:this});return e.signup(t).then(function(e){return l.default.info({description:"Provider signup successful.",provider:t,res:e,func:"signup",obj:"Matter"}),e},function(e){return l.default.error({description:"Provider signup successful.",provider:t,error:e,func:"signup",obj:"Matter"}),Promise.reject(e)})}},{key:"login",value:function(t){var e=this;if(!t||!(0,j.isObject)(t)&&!(0,j.isString)(t))return l.default.error({description:"Username/Email and Password are required to login",func:"login",obj:"Matter"}),Promise.reject({message:"Login data is required to login.",status:"DATA_REQUIRED"});if((0,j.isObject)(t))return t.username||t.email?t.password&&""!==t.password?g.default.put(this.endpoint+"/login",t).then(function(t){if((0,j.has)(t,"data")&&(0,j.has)(t.data,"status")&&409==t.data.status)return l.default.error({description:"Account not found.",response:t,func:"login",obj:"Matter"}),Promise.reject(t.data);l.default.info({description:"Successful login.",response:t,func:"login",obj:"Matter"}),(0,j.has)(t,"token")&&(e.token.string=t.token);var r={};return(0,j.has)(t,"account")?r=t.account:e.token.data?(l.default.debug({description:"User data available from token.",tokenData:e.token.data,type:u(e.token.data),func:"login",obj:"Matter"}),e.token.data.un?(l.default.log({description:"Token is AuthRocket format.",func:"login",obj:"Matter"}),r={username:e.token.data.un,name:e.token.data.n||null,authrocketId:e.token.data.uid||null}):(l.default.debug({description:"Token is default format.",func:"login",obj:"Matter"}),r=e.token.data)):(l.default.error({description:"User data not available from response or token.",func:"login",obj:"Matter"}),r={token:e.token.string}),e.storage.setItem(c.default.tokenUserDataName,r),r}).catch(function(t){return l.default.error({description:"Error requesting login.",error:t,status:t.status,func:"login",obj:"Matter"}),(409==t.status||400==t.status)&&(t=t.response.text),Promise.reject(t)}):Promise.reject({message:"Password is required to login.",status:"PASS_REQUIRED"}):(l.default.error({description:"Email or Username required to login.",func:"login",obj:"Matter"}),Promise.reject({message:"Email or Username required to login.",status:"ID_REQUIRED"}));var r=new w.default({provider:t,app:this});return r.login().then(function(e){return l.default.info({description:"Provider login successful.",provider:t,res:e,func:"login",obj:"Matter"}),e})}},{key:"logout",value:function(){var t=this;return this.isLoggedIn?g.default.put(this.endpoint+"/logout").then(function(e){return l.default.info({description:"Logout successful.",response:e,func:"logout",obj:"Matter"}),t.currentUser=null,t.token.delete(),e}).catch(function(e){return l.default.error({description:"Error requesting log out: ",error:e,func:"logout",obj:"Matter"}),t.storage.removeItem(c.default.tokenUserDataName),t.token.delete(),Promise.reject(e)}):(l.default.warn({description:"No logged in account to log out.",func:"logout",obj:"Matter"}),Promise.reject({message:"No logged in account to log out.",status:"NULL_ACCOUNT"}))}},{key:"providerSignup",value:function(t){var e=t.provider,r=t.code;if(!e)return Promise.reject("Provider name is required to signup.");if(!r)return Promise.reject("Provider code or token is required to signup.");var n=new w.default({provider:e,app:this});return n.accountFromCode(r).then(function(e){return l.default.info({description:"Provider login successful.",providerData:t,res:e,func:"providerSignup",obj:"Matter"}),e},function(t){return l.default.error({description:"Provider signup error.",error:t,func:"providerSignup",obj:"Matter"}),Promise.reject(t)})}},{key:"getCurrentUser",value:function(){var t=this;return this.currentUser?(l.default.debug({description:"Current is already available. Returning user.",func:"currentUser",obj:"Matter"}),Promise.resolve(this.currentUser)):this.isLoggedIn?g.default.get(this.endpoint+"/user").then(function(e){return l.default.log({description:"Current User Request responded.",responseData:e,func:"currentUser",obj:"Matter"}),t.currentUser=e,e}).catch(function(t){return 401==t.status?(l.default.warn({description:"Called for current user without token.",error:t,func:"currentUser",obj:"Matter"}),_.default.delete(),Promise.resolve(null)):(l.default.error({description:"Error requesting current user.",error:t,func:"currentUser",obj:"Matter"}),Promise.reject(t))}):(l.default.debug({description:"Current user is null.",func:"currentUser",obj:"Matter"}),Promise.resolve(null))}},{key:"updateAccount",value:function(t){var e=this;return this.isLoggedIn?t?g.default.put(this.urls.update,t).then(function(t){return l.default.info({description:"Update profile request responded.",responseData:t,func:"updateAccount",obj:"Matter"}),e.currentUser=t,t}).catch(function(t){return l.default.error({description:"Error requesting current user.",error:t,func:"updateAccount",obj:"Matter"}),Promise.reject(t)}):(l.default.error({description:"Data is required to update profile.",func:"updateAccount",obj:"Matter"}),Promise.reject({message:"Data required to update account.",status:"NULL_DATA"})):(l.default.error({description:"No current user profile to update.",func:"updateAccount",obj:"Matter"}),Promise.reject({message:"Must be logged in to update account."}))}},{key:"uploadImage",value:function(t){var e=this;if(!this.isLoggedIn)return l.default.error({description:"Must be logged in to upload an image.",func:"uploadImage",obj:"Matter"}),Promise.reject({message:"Must be logged in to upload image."});if(!t)return l.default.error({description:"Data is required to update profile.",func:"uploadImage",obj:"Matter"}),Promise.reject({message:"Data required to update profile.",status:"NULL_DATA"});this.endpoint+"/user/"+this.token.data.username;return g.default.put(this.urls.upload,t).then(function(t){return l.default.info({description:"Upload image request responded.",responseData:t,func:"uploadImage",obj:"Matter"}),e.currentUser=t,t}).catch(function(t){return l.default.error({description:"Error requesting current user.",error:t,func:"uploadImage",obj:"Matter"}),Promise.reject(t)})}},{key:"uploadAccountImage",value:function(t){var e=this;return this.uploadImage(t).then(function(t){return e.updateAccount({image:{url:t}})})}},{key:"changePassword",value:function(t){return this.isLoggedIn?g.default.put(this.urls.changePassword,t).then(function(t){return l.default.log({description:"Update password request responded.",responseData:t,func:"changePassword",obj:"Matter"}),t}).catch(function(t){return l.default.error({description:"Error requesting password change.",error:t,func:"changePassword",obj:"Matter"}),Promise.reject(t)}):(l.default.error({description:"No current user profile for which to change password.",func:"changePassword",obj:"Matter"}),Promise.reject({message:"Must be logged in to change password."}))}},{key:"recoverAccount",value:function(t){if(!t||!(0,j.isString)(t)&&!(0,j.isObject)(t))return l.default.error({description:"Account data is required to recover an account.",func:"recoverAccount",obj:"Matter"}),Promise.reject({message:"Account data is required to recover an account."});var e={};return e=(0,j.isString)(t)?-1!==t.indexOf("@")?{email:t}:{username:t}:t,l.default.debug({description:"Requesting recovery of account.",account:e,func:"recoverAccount",obj:"Matter"}),g.default.post(this.urls.recover,e).then(function(t){return l.default.info({description:"Recover password request responded.",response:t,func:"recoverAccount",obj:"Matter"}),t}).catch(function(t){return l.default.error({description:"Error requesting password recovery.",error:t,func:"recoverAccount",obj:"Matter"}),Promise.reject(t)})}},{key:"isInGroup",value:function(t){var e=this;if(!this.isLoggedIn)return l.default.error({description:"No logged in user to check for groups.",func:"isInGroup",obj:"Matter"}),!1;if(!t)return l.default.log({description:"Invalid group(s).",func:"isInGroup",obj:"Matter"}),!1;if(!(0,j.isString)(t))return(0,j.isArray)(t)?(l.default.info({description:"Array of groups.",list:t,func:"isInGroup",obj:"Matter"}),this.isInGroups(t)):!1;var r=function(){var r=t,n=r.split(",");if(n.length>1)return l.default.info({description:"String list of groups.",list:n,func:"isInGroup",obj:"Matter"}),{v:e.isInGroups(n)};var o=e.token.data.groups||[];return l.default.log({description:"Checking if user is in group.",group:r,userGroups:e.token.data.groups,func:"isInGroup",obj:"Matter"}),{v:(0,j.any)(o,function(t){return r==t.name})}}();return"object"===("undefined"==typeof r?"undefined":u(r))?r.v:void 0}},{key:"isInGroups",value:function(t){var e=this;if(!this.isLoggedIn)return l.default.log({description:"No logged in user to check.",func:"isInGroups",obj:"Matter"}),!1;if(!t)return l.default.log({description:"Invalid group(s).",func:"isInGroup",obj:"Matter"}),!1;if((0,j.isArray)(t))return(0,j.every)(t.map(function(t){return(0,j.isString)(t)?e.isInGroup(t):(0,j.has)(t,"name")?e.isInGroup(t.name):(l.default.error({description:"Invalid group object.",group:t,func:"isInGroups",obj:"Matter"}),!1)}),!0);if((0,j.isString)(t)){var r=t.split(",");return r.length>1?this.isInGroups(r):this.isInGroup(r[0])}return l.default.error({description:"Invalid groups list.",func:"isInGroups",obj:"Matter"}),!1}},{key:"isLoggedIn",get:function(){return this.token.string?!0:!1}},{key:"endpoint",get:function(){(0,j.has)(this,"options")&&(this.options.localServer&&(c.default.envName="local",l.default.log({description:"LocalServer option was set to true. Now server url is local server.",url:c.default.serverUrl,func:"endpoint",obj:"Matter"})),this.options.env&&(c.default.envName=this.options.env,l.default.log({description:"Environment set based on provided environment.",config:c.default,func:"endpoint",obj:"Matter"})));var t=c.default.serverUrl+"/apps/"+this.name;return"tessellate"==this.name&&("undefined"!=typeof window&&(0,j.has)(window,"location")&&-1!==window.location.host.indexOf("tessellate")?(t="",l.default.info({description:"Host is Tessellate Server, serverUrl simplified!",url:t,func:"endpoint",obj:"Matter"})):(t=c.default.serverUrl,l.default.info({description:"App is tessellate, serverUrl set as main tessellate server.",url:t,func:"endpoint",obj:"Matter"}))),l.default.log({description:"Endpoint created.",url:t,func:"endpoint",obj:"Matter"}),t}},{key:"urls",get:function(){return this.token&&this.token.data&&this.token.data.username?{update:this.endpoint+"/account/"+this.token.data.username,upload:this.endpoint+"/account/"+this.token.data.username+"/upload",recover:this.endpoint+"/recover"}:{recover:this.endpoint+"/recover"}}},{key:"currentUser",set:function(t){l.default.debug({description:"Current User set.",user:t,func:"currentUser",obj:"Matter"}),this.storage.setItem(c.default.tokenUserDataName,t)},get:function(){return this.storage.getItem(c.default.tokenUserDataName)?this.storage.getItem(c.default.tokenUserDataName):null}},{key:"storage",get:function(){return m.default}},{key:"token",get:function(){return _.default}},{key:"utils",get:function(){return{logger:l.default,request:g.default,storage:m.default,dom:d}}}]),t}();e.default=k,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return t&&console[t]?console[t].apply(console,e):console.log.apply(console,e)}function u(t){var e="",r={};c.default.isObject(t)?("error"!==a.default.logLevel&&c.default.has(t,"func")&&(e+=c.default.has(t,"obj")?"["+t.obj+"."+t.func+"()]\n ":c.default.has(t,"file")?"["+t.file+" > "+t.func+"()]\n ":"["+t.func+"()]\n "),c.default.each(c.default.omit(c.default.keys(t)),function(n){"func"!=n&&"obj"!=n&&("description"==n||"message"==n?e+=t[n]:c.default.isString(t[n])?r[n]=t[n]:r[n]=t[n])}),e+="\n"):c.default.isString(t)&&(e=t);var n=[e,r];return n}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=n(i),s=r(2),c=n(s),f={log:function(t){var e=u(t);"trace"===a.default.logLevel&&o("log",e)},debug:function(t){var e=u(t);("trace"===a.default.logLevel||"debug"===a.default.logLevel)&&o("debug",e)},info:function(t){if("trace"===a.default.logLevel||"debug"===a.default.logLevel||"info"===a.default.logLevel){var e=u(t);o("info",e)}},warn:function(t){var e=u(t);("trace"===a.default.logLevel||"debug"===a.default.logLevel||"info"===a.default.logLevel||"warn"===a.default.logLevel)&&o("warn",e)},error:function(t){var e=u(t);("trace"===a.default.logLevel||"debug"===a.default.logLevel||"info"===a.default.logLevel||"warn"===a.default.logLevel||"error"===a.default.logLevel||"fatal"===a.default.logLevel)&&o("error",e)}};e.default=f,t.exports=e.default},function(t,e,r){var n;(function(t,o){(function(){function u(t,e){if(t!==e){var r=null===t,n=t===I,o=t===t,u=null===e,i=e===I,a=e===e;if(t>e&&!u||!o||r&&!i&&a||n&&a)return 1;if(e>t&&!r||!a||u&&!n&&o||i&&o)return-1}return 0}function i(t,e,r){for(var n=t.length,o=r?n:-1;r?o--:++o<n;)if(e(t[o],o,t))return o;return-1}function a(t,e,r){if(e!==e)return y(t,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function s(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function f(t,e){for(var r=-1,n=t.length;++r<n&&e.indexOf(t.charAt(r))>-1;);return r}function l(t,e){for(var r=t.length;r--&&e.indexOf(t.charAt(r))>-1;);return r}function p(t,e){return u(t.criteria,e.criteria)||t.index-e.index}function d(t,e,r){for(var n=-1,o=t.criteria,i=e.criteria,a=o.length,s=r.length;++n<a;){var c=u(o[n],i[n]);if(c){if(n>=s)return c;var f=r[n];return c*("asc"===f||f===!0?1:-1)}}return t.index-e.index}function h(t){return Wt[t]}function g(t){return Jt[t]}function v(t,e,r){return e?t=Kt[t]:r&&(t=Yt[t]),"\\"+t}function _(t){return"\\"+Yt[t]}function y(t,e,r){for(var n=t.length,o=e+(r?0:-1);r?o--:++o<n;){var u=t[o];if(u!==u)return o}return-1}function m(t){return!!t&&"object"==typeof t}function b(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var r=-1,n=t.length,o=-1,u=[];++r<n;)t[r]===e&&(t[r]=W,u[++o]=r);return u}function j(t,e){for(var r,n=-1,o=t.length,u=-1,i=[];++n<o;){var a=t[n],s=e?e(a,n,t):a;n&&r===s||(r=s,i[++u]=a)}return i}function k(t){for(var e=-1,r=t.length;++e<r&&b(t.charCodeAt(e)););return e}function x(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function A(t){return Xt[t]}function E(t){function e(t){if(m(t)&&!Ua(t)&&!(t instanceof o)){if(t instanceof n)return t;if(ei.call(t,"__chain__")&&ei.call(t,"__wrapped__"))return dn(t)}return new n(t)}function r(){}function n(t,e,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!e}function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mi,this.__views__=[]}function b(){var t=new o(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new o(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function nt(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ua(t),n=0>e,o=r?t.length:0,u=$r(0,o,this.__views__),i=u.start,a=u.end,s=a-i,c=n?a:i-1,f=this.__iteratees__,l=f.length,p=0,d=ki(s,this.__takeCount__);if(!r||z>o||o==s&&d==s)return rr(n&&r?t.reverse():t,this.__actions__);var h=[];t:for(;s--&&d>p;){c+=e;for(var g=-1,v=t[c];++g<l;){var _=f[g],y=_.iteratee,m=_.type,b=y(v);if(m==B)v=b;else if(!b){if(m==H)continue t;break t}}h[p++]=v}return h}function ut(){this.__data__={}}function Wt(t){return this.has(t)&&delete this.__data__[t]}function Jt(t){return"__proto__"==t?I:this.__data__[t]}function Xt(t){return"__proto__"!=t&&ei.call(this.__data__,t)}function Qt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:_i(null),set:new li};e--;)this.push(t[e])}function Yt(t,e){var r=t.data,n="string"==typeof e||So(e)?r.set.has(e):r.hash[e];return n?0:-1}function Vt(t){var e=this.data;"string"==typeof t||So(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var r=-1,n=t.length,o=-1,u=e.length,i=Gu(n+u);++r<n;)i[r]=t[r];for(;++o<u;)i[r++]=e[o];return i}function te(t,e){var r=-1,n=t.length;for(e||(e=Gu(n));++r<n;)e[r]=t[r];return e}function ee(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function re(t,e){for(var r=t.length;r--&&e(t[r],r,t)!==!1;);return t}function ue(t,e){for(var r=-1,n=t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ie(t,e,r,n){for(var o=-1,u=t.length,i=n,a=i;++o<u;){var s=t[o],c=+e(s);r(c,i)&&(i=c,a=s)}return a}function ae(t,e){for(var r=-1,n=t.length,o=-1,u=[];++r<n;){var i=t[r];e(i,r,t)&&(u[++o]=i)}return u}function se(t,e){for(var r=-1,n=t.length,o=Gu(n);++r<n;)o[r]=e(t[r],r,t);return o}function ce(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function fe(t,e,r,n){var o=-1,u=t.length;for(n&&u&&(r=t[++o]);++o<u;)r=e(r,t[o],o,t);return r}function le(t,e,r,n){var o=t.length;for(n&&o&&(r=t[--o]);o--;)r=e(r,t[o],o,t);return r}function pe(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function de(t,e){for(var r=t.length,n=0;r--;)n+=+e(t[r])||0;return n}function he(t,e){return t===I?e:t}function ge(t,e,r,n){return t!==I&&ei.call(n,r)?t:e}function ve(t,e,r){for(var n=-1,o=Fa(e),u=o.length;++n<u;){var i=o[n],a=t[i],s=r(a,e[i],i,t,e);(s===s?s===a:a!==a)&&(a!==I||i in t)||(t[i]=s)}return t}function _e(t,e){return null==e?t:me(e,Fa(e),t)}function ye(t,e){for(var r=-1,n=null==t,o=!n&&Kr(t),u=o?t.length:0,i=e.length,a=Gu(i);++r<i;){var s=e[r];o?a[r]=Yr(s,u)?t[s]:I:a[r]=n?I:t[s]}return a}function me(t,e,r){r||(r={});for(var n=-1,o=e.length;++n<o;){var u=e[n];r[u]=t[u]}return r}function be(t,e,r){var n=typeof t;return"function"==n?e===I?t:ur(t,e,r):null==t?Mu:"object"==n?Ne(t):e===I?Ru(t):Fe(t,e)}function we(t,e,r,n,o,u,i){var a;if(r&&(a=o?r(t,n,o):r(t)),a!==I)return a;if(!So(t))return t;var s=Ua(t);if(s){if(a=Wr(t),!e)return te(t,a)}else{var c=ni.call(t),f=c==V;if(c!=et&&c!=J&&(!f||o))return $t[c]?Xr(t,c,e):o?t:{};if(a=Jr(f?{}:t),!e)return _e(a,t)}u||(u=[]),i||(i=[]);for(var l=u.length;l--;)if(u[l]==t)return i[l];return u.push(t),i.push(a),(s?ee:Pe)(t,function(n,o){a[o]=we(n,e,r,o,t,u,i)}),a}function je(t,e,r){if("function"!=typeof t)throw new Ku($);return pi(function(){t.apply(I,r)},e)}function ke(t,e){var r=t?t.length:0,n=[];if(!r)return n;var o=-1,u=zr(),i=u==a,s=i&&e.length>=z?hr(e):null,c=e.length;s&&(u=Yt,i=!1,e=s);t:for(;++o<r;){var f=t[o];if(i&&f===f){for(var l=c;l--;)if(e[l]===f)continue t;n.push(f)}else u(e,f,0)<0&&n.push(f)}return n}function xe(t,e){var r=!0;return qi(t,function(t,n,o){return r=!!e(t,n,o)}),r}function Ae(t,e,r,n){var o=n,u=o;return qi(t,function(t,i,a){var s=+e(t,i,a);(r(s,o)||s===n&&s===u)&&(o=s,u=t)}),u}function Ee(t,e,r,n){var o=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>o?0:o+r),n=n===I||n>o?o:+n||0,0>n&&(n+=o),o=r>n?0:n>>>0,r>>>=0;o>r;)t[r++]=e;return t}function Ie(t,e){var r=[];return qi(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r}function Me(t,e,r,n){var o;return r(t,function(t,r,u){return e(t,r,u)?(o=n?r:t,!1):void 0}),o}function Ue(t,e,r,n){n||(n=[]);for(var o=-1,u=t.length;++o<u;){var i=t[o];m(i)&&Kr(i)&&(r||Ua(i)||Eo(i))?e?Ue(i,e,r,n):ce(n,i):r||(n[n.length]=i)}return n}function Oe(t,e){return Di(t,e,eu)}function Pe(t,e){return Di(t,e,Fa)}function Le(t,e){return Ni(t,e,Fa)}function Ce(t,e){for(var r=-1,n=e.length,o=-1,u=[];++r<n;){var i=e[r];Ro(t[i])&&(u[++o]=i)}return u}function Re(t,e,r){if(null!=t){r!==I&&r in ln(t)&&(e=[r]);for(var n=0,o=e.length;null!=t&&o>n;)t=t[e[n++]];return n&&n==o?t:I}}function Se(t,e,r,n,o,u){return t===e?!0:null==t||null==e||!So(t)&&!m(e)?t!==t&&e!==e:qe(t,e,Se,r,n,o,u)}function qe(t,e,r,n,o,u,i){var a=Ua(t),s=Ua(e),c=X,f=X;a||(c=ni.call(t),c==J?c=et:c!=et&&(a=Bo(t))),s||(f=ni.call(e),f==J?f=et:f!=et&&(s=Bo(e)));var l=c==et,p=f==et,d=c==f;if(d&&!a&&!l)return Dr(t,e,c);if(!o){var h=l&&ei.call(t,"__wrapped__"),g=p&&ei.call(e,"__wrapped__");if(h||g)return r(h?t.value():t,g?e.value():e,n,o,u,i)}if(!d)return!1;u||(u=[]),i||(i=[]);for(var v=u.length;v--;)if(u[v]==t)return i[v]==e;u.push(t),i.push(e);var _=(a?Tr:Nr)(t,e,r,n,o,u,i);return u.pop(),i.pop(),_}function Te(t,e,r){var n=e.length,o=n,u=!r;if(null==t)return!o;for(t=ln(t);n--;){var i=e[n];if(u&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++n<o;){i=e[n];var a=i[0],s=t[a],c=i[1];if(u&&i[2]){if(s===I&&!(a in t))return!1}else{var f=r?r(s,c,a):I;if(!(f===I?Se(c,s,r,!0):f))return!1}}return!0}function De(t,e){var r=-1,n=Kr(t)?Gu(t.length):[];return qi(t,function(t,o,u){n[++r]=e(t,o,u)}),n}function Ne(t){var e=Hr(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null==t?!1:t[r]===n&&(n!==I||r in ln(t))}}return function(t){return Te(t,e)}}function Fe(t,e){var r=Ua(t),n=Zr(t)&&rn(e),o=t+"";return t=pn(t),function(u){if(null==u)return!1;var i=o;if(u=ln(u),(r||!n)&&!(i in u)){if(u=1==t.length?u:Re(u,Xe(t,0,-1)),null==u)return!1;i=En(t),u=ln(u)}return u[i]===e?e!==I||i in u:Se(e,u[i],I,!0)}}function Ge(t,e,r,n,o){if(!So(t))return t;var u=Kr(e)&&(Ua(e)||Bo(e)),i=u?I:Fa(e);return ee(i||e,function(a,s){if(i&&(s=a,a=e[s]),m(a))n||(n=[]),o||(o=[]),ze(t,e,s,Ge,r,n,o);else{var c=t[s],f=r?r(c,a,s,t,e):I,l=f===I;l&&(f=a),f===I&&(!u||s in t)||!l&&(f===f?f===c:c!==c)||(t[s]=f)}}),t}function ze(t,e,r,n,o,u,i){for(var a=u.length,s=e[r];a--;)if(u[a]==s)return void(t[r]=i[a]);var c=t[r],f=o?o(c,s,r,t,e):I,l=f===I;l&&(f=s,Kr(s)&&(Ua(s)||Bo(s))?f=Ua(c)?c:Kr(c)?te(c):[]:Go(s)||Eo(s)?f=Eo(c)?Qo(c):Go(c)?c:{}:l=!1),u.push(s),i.push(f),l?t[r]=n(f,s,o,u,i):(f===f?f!==c:c===c)&&(t[r]=f)}function He(t){return function(e){return null==e?I:e[t]}}function Be(t){var e=t+"";return t=pn(t),function(r){return Re(r,t,e)}}function $e(t,e){for(var r=t?e.length:0;r--;){var n=e[r];if(n!=o&&Yr(n)){var o=n;di.call(t,n,1)}}return t}function We(t,e){return t+yi(Ei()*(e-t+1))}function Je(t,e,r,n,o){return o(t,function(t,o,u){r=n?(n=!1,t):e(r,t,o,u)}),r}function Xe(t,e,r){var n=-1,o=t.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),r=r===I||r>o?o:+r||0,0>r&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var u=Gu(o);++n<o;)u[n]=t[n+e];return u}function Qe(t,e){var r;return qi(t,function(t,n,o){return r=e(t,n,o),!r}),!!r}function Ke(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function Ye(t,e,r){var n=Fr(),o=-1;e=se(e,function(t){return n(t)});var u=De(t,function(t){var r=se(e,function(e){return e(t)});return{criteria:r,index:++o,value:t}});return Ke(u,function(t,e){return d(t,e,r)})}function Ve(t,e){var r=0;return qi(t,function(t,n,o){r+=+e(t,n,o)||0}),r}function Ze(t,e){var r=-1,n=zr(),o=t.length,u=n==a,i=u&&o>=z,s=i?hr():null,c=[];s?(n=Yt,u=!1):(i=!1,s=e?[]:c);t:for(;++r<o;){var f=t[r],l=e?e(f,r,t):f;if(u&&f===f){for(var p=s.length;p--;)if(s[p]===l)continue t;e&&s.push(l),c.push(f)}else n(s,l,0)<0&&((e||i)&&s.push(l),c.push(f))}return c}function tr(t,e){for(var r=-1,n=e.length,o=Gu(n);++r<n;)o[r]=t[e[r]];return o}function er(t,e,r,n){for(var o=t.length,u=n?o:-1;(n?u--:++u<o)&&e(t[u],u,t););return r?Xe(t,n?0:u,n?u+1:o):Xe(t,n?u+1:0,n?o:u)}function rr(t,e){var r=t;r instanceof o&&(r=r.value());for(var n=-1,u=e.length;++n<u;){var i=e[n];r=i.func.apply(i.thisArg,ce([r],i.args))}return r}function nr(t,e,r){var n=0,o=t?t.length:n;if("number"==typeof e&&e===e&&Pi>=o){for(;o>n;){var u=n+o>>>1,i=t[u];(r?e>=i:e>i)&&null!==i?n=u+1:o=u}return o}return or(t,e,Mu,r)}function or(t,e,r,n){e=r(e);for(var o=0,u=t?t.length:0,i=e!==e,a=null===e,s=e===I;u>o;){var c=yi((o+u)/2),f=r(t[c]),l=f!==I,p=f===f;if(i)var d=p||n;else d=a?p&&l&&(n||null!=f):s?p&&(n||l):null==f?!1:n?e>=f:e>f;d?o=c+1:u=c}return ki(u,Oi)}function ur(t,e,r){if("function"!=typeof t)return Mu;if(e===I)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,u){return t.call(e,r,n,o,u)};case 5:return function(r,n,o,u,i){return t.call(e,r,n,o,u,i)}}return function(){return t.apply(e,arguments)}}function ir(t){var e=new ii(t.byteLength),r=new hi(e);return r.set(new hi(t)),e}function ar(t,e,r){for(var n=r.length,o=-1,u=ji(t.length-n,0),i=-1,a=e.length,s=Gu(a+u);++i<a;)s[i]=e[i];for(;++o<n;)s[r[o]]=t[o];for(;u--;)s[i++]=t[o++];return s}function sr(t,e,r){for(var n=-1,o=r.length,u=-1,i=ji(t.length-o,0),a=-1,s=e.length,c=Gu(i+s);++u<i;)c[u]=t[u];for(var f=u;++a<s;)c[f+a]=e[a];for(;++n<o;)c[f+r[n]]=t[u++];return c}function cr(t,e){return function(r,n,o){var u=e?e():{};if(n=Fr(n,o,3),Ua(r))for(var i=-1,a=r.length;++i<a;){var s=r[i];t(u,s,n(s,i,r),r)}else qi(r,function(e,r,o){t(u,e,n(e,r,o),o)});return u}}function fr(t){return yo(function(e,r){var n=-1,o=null==e?0:r.length,u=o>2?r[o-2]:I,i=o>2?r[2]:I,a=o>1?r[o-1]:I;for("function"==typeof u?(u=ur(u,a,5),o-=2):(u="function"==typeof a?a:I,o-=u?1:0),i&&Vr(r[0],r[1],i)&&(u=3>o?I:u,o=1);++n<o;){var s=r[n];s&&t(e,s,u)}return e})}function lr(t,e){return function(r,n){var o=r?zi(r):0;if(!en(o))return t(r,n);for(var u=e?o:-1,i=ln(r);(e?u--:++u<o)&&n(i[u],u,i)!==!1;);return r}}function pr(t){return function(e,r,n){for(var o=ln(e),u=n(e),i=u.length,a=t?i:-1;t?a--:++a<i;){var s=u[a];if(r(o[s],s,o)===!1)break}return e}}function dr(t,e){function r(){var o=this&&this!==ne&&this instanceof r?n:t;return o.apply(e,arguments)}var n=vr(t);return r}function hr(t){return _i&&li?new Kt(t):null}function gr(t){return function(e){for(var r=-1,n=Au(lu(e)),o=n.length,u="";++r<o;)u=t(u,n[r],r);return u}}function vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Si(t.prototype),n=t.apply(r,e);return So(n)?n:r}}function _r(t){function e(r,n,o){o&&Vr(r,n,o)&&(n=I);var u=qr(r,t,I,I,I,I,I,n);return u.placeholder=e.placeholder,u}return e}function yr(t,e){return yo(function(r){var n=r[0];return null==n?n:(r.push(e),t.apply(I,r))})}function mr(t,e){return function(r,n,o){if(o&&Vr(r,n,o)&&(n=I),n=Fr(n,o,3),1==n.length){r=Ua(r)?r:fn(r);var u=ie(r,n,t,e);if(!r.length||u!==e)return u}return Ae(r,n,t,e)}}function br(t,e){return function(r,n,o){if(n=Fr(n,o,3),Ua(r)){var u=i(r,n,e);return u>-1?r[u]:I}return Me(r,n,t)}}function wr(t){return function(e,r,n){return e&&e.length?(r=Fr(r,n,3),i(e,r,t)):-1}}function jr(t){return function(e,r,n){return r=Fr(r,n,3),Me(e,r,t,!0)}}function kr(t){return function(){for(var e,r=arguments.length,o=t?r:-1,u=0,i=Gu(r);t?o--:++o<r;){var a=i[u++]=arguments[o];if("function"!=typeof a)throw new Ku($);!e&&n.prototype.thru&&"wrapper"==Gr(a)&&(e=new n([],!0))}for(o=e?-1:r;++o<r;){a=i[o];var s=Gr(a),c="wrapper"==s?Gi(a):I;e=c&&tn(c[0])&&c[1]==(q|L|R|T)&&!c[4].length&&1==c[9]?e[Gr(c[0])].apply(e,c[3]):1==a.length&&tn(a)?e[s]():e.thru(a)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Ua(n)&&n.length>=z)return e.plant(n).value();for(var o=0,u=r?i[o].apply(this,t):n;++o<r;)u=i[o].call(this,u);return u}}}function xr(t,e){return function(r,n,o){return"function"==typeof n&&o===I&&Ua(r)?t(r,n):e(r,ur(n,o,3))}}function Ar(t){return function(e,r,n){return("function"!=typeof r||n!==I)&&(r=ur(r,n,3)),t(e,r,eu)}}function Er(t){return function(e,r,n){return("function"!=typeof r||n!==I)&&(r=ur(r,n,3)),t(e,r)}}function Ir(t){return function(e,r,n){var o={};return r=Fr(r,n,3),Pe(e,function(e,n,u){var i=r(e,n,u);n=t?i:n,e=t?e:i,o[n]=e}),o}}function Mr(t){return function(e,r,n){return e=c(e),(t?e:"")+Lr(e,r,n)+(t?"":e)}}function Ur(t){var e=yo(function(r,n){var o=w(n,e.placeholder);return qr(r,t,I,n,o)});return e}function Or(t,e){return function(r,n,o,u){var i=arguments.length<3;return"function"==typeof n&&u===I&&Ua(r)?t(r,n,o,i):Je(r,Fr(n,u,4),o,i,e)}}function Pr(t,e,r,n,o,u,i,a,s,c){function f(){for(var y=arguments.length,m=y,b=Gu(y);m--;)b[m]=arguments[m];if(n&&(b=ar(b,n,o)),u&&(b=sr(b,u,i)),h||v){var j=f.placeholder,k=w(b,j);if(y-=k.length,c>y){var x=a?te(a):I,A=ji(c-y,0),E=h?k:I,M=h?I:k,P=h?b:I,L=h?I:b;e|=h?R:S,e&=~(h?S:R),g||(e&=~(U|O));var C=[t,e,r,P,E,L,M,x,s,A],q=Pr.apply(I,C);return tn(t)&&Hi(q,C),q.placeholder=j,q}}var T=p?r:this,D=d?T[t]:t;return a&&(b=sn(b,a)),l&&s<b.length&&(b.length=s),this&&this!==ne&&this instanceof f&&(D=_||vr(t)),D.apply(T,b)}var l=e&q,p=e&U,d=e&O,h=e&L,g=e&P,v=e&C,_=d?I:vr(t);return f}function Lr(t,e,r){var n=t.length;if(e=+e,n>=e||!bi(e))return"";var o=e-n;return r=null==r?" ":r+"",_u(r,vi(o/r.length)).slice(0,o)}function Cr(t,e,r,n){function o(){for(var e=-1,a=arguments.length,s=-1,c=n.length,f=Gu(c+a);++s<c;)f[s]=n[s];for(;a--;)f[s++]=arguments[++e];var l=this&&this!==ne&&this instanceof o?i:t;return l.apply(u?r:this,f)}var u=e&U,i=vr(t);return o}function Rr(t){var e=$u[t];return function(t,r){return r=r===I?0:+r||0,r?(r=ci(10,r),e(t*r)/r):e(t)}}function Sr(t){
return function(e,r,n,o){var u=Fr(n);return null==n&&u===be?nr(e,r,t):or(e,r,u(n,o,1),t)}}function qr(t,e,r,n,o,u,i,a){var s=e&O;if(!s&&"function"!=typeof t)throw new Ku($);var c=n?n.length:0;if(c||(e&=~(R|S),n=o=I),c-=o?o.length:0,e&S){var f=n,l=o;n=o=I}var p=s?I:Gi(t),d=[t,e,r,n,o,f,l,u,i,a];if(p&&(nn(d,p),e=d[1],a=d[9]),d[9]=null==a?s?0:t.length:ji(a-c,0)||0,e==U)var h=dr(d[0],d[2]);else h=e!=R&&e!=(U|R)||d[4].length?Pr.apply(I,d):Cr.apply(I,d);var g=p?Fi:Hi;return g(h,d)}function Tr(t,e,r,n,o,u,i){var a=-1,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;for(;++a<s;){var f=t[a],l=e[a],p=n?n(o?l:f,o?f:l,a):I;if(p!==I){if(p)continue;return!1}if(o){if(!pe(e,function(t){return f===t||r(f,t,n,o,u,i)}))return!1}else if(f!==l&&!r(f,l,n,o,u,i))return!1}return!0}function Dr(t,e,r){switch(r){case Q:case K:return+t==+e;case Y:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case rt:case ot:return t==e+""}return!1}function Nr(t,e,r,n,o,u,i){var a=Fa(t),s=a.length,c=Fa(e),f=c.length;if(s!=f&&!o)return!1;for(var l=s;l--;){var p=a[l];if(!(o?p in e:ei.call(e,p)))return!1}for(var d=o;++l<s;){p=a[l];var h=t[p],g=e[p],v=n?n(o?g:h,o?h:g,p):I;if(!(v===I?r(h,g,n,o,u,i):v))return!1;d||(d="constructor"==p)}if(!d){var _=t.constructor,y=e.constructor;if(_!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y))return!1}return!0}function Fr(t,r,n){var o=e.callback||Eu;return o=o===Eu?be:o,n?o(t,r,n):o}function Gr(t){for(var e=t.name,r=Ri[e],n=r?r.length:0;n--;){var o=r[n],u=o.func;if(null==u||u==t)return o.name}return e}function zr(t,r,n){var o=e.indexOf||xn;return o=o===xn?a:o,t?o(t,r,n):o}function Hr(t){for(var e=ru(t),r=e.length;r--;)e[r][2]=rn(e[r][1]);return e}function Br(t,e){var r=null==t?I:t[e];return Do(r)?r:I}function $r(t,e,r){for(var n=-1,o=r.length;++n<o;){var u=r[n],i=u.size;switch(u.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=ki(e,t+i);break;case"takeRight":t=ji(t,e-i)}}return{start:t,end:e}}function Wr(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ei.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Jr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ju),new e}function Xr(t,e,r){var n=t.constructor;switch(e){case it:return ir(t);case Q:case K:return new n(+t);case at:case st:case ct:case ft:case lt:case pt:case dt:case ht:case gt:var o=t.buffer;return new n(r?ir(o):o,t.byteOffset,t.length);case tt:case ot:return new n(t);case rt:var u=new n(t.source,Rt.exec(t));u.lastIndex=t.lastIndex}return u}function Qr(t,e,r){null==t||Zr(e,t)||(e=pn(e),t=1==e.length?t:Re(t,Xe(e,0,-1)),e=En(e));var n=null==t?t:t[e];return null==n?I:n.apply(t,r)}function Kr(t){return null!=t&&en(zi(t))}function Yr(t,e){return t="number"==typeof t||Tt.test(t)?+t:-1,e=null==e?Li:e,t>-1&&t%1==0&&e>t}function Vr(t,e,r){if(!So(r))return!1;var n=typeof e;if("number"==n?Kr(r)&&Yr(e,r.length):"string"==n&&e in r){var o=r[e];return t===t?t===o:o!==o}return!1}function Zr(t,e){var r=typeof t;if("string"==r&&It.test(t)||"number"==r)return!0;if(Ua(t))return!1;var n=!Et.test(t);return n||null!=e&&t in ln(e)}function tn(t){var r=Gr(t);if(!(r in o.prototype))return!1;var n=e[r];if(t===n)return!0;var u=Gi(n);return!!u&&t===u[0]}function en(t){return"number"==typeof t&&t>-1&&t%1==0&&Li>=t}function rn(t){return t===t&&!So(t)}function nn(t,e){var r=t[1],n=e[1],o=r|n,u=q>o,i=n==q&&r==L||n==q&&r==T&&t[7].length<=e[8]||n==(q|T)&&r==L;if(!u&&!i)return t;n&U&&(t[2]=e[2],o|=r&U?0:P);var a=e[3];if(a){var s=t[3];t[3]=s?ar(s,a,e[4]):te(a),t[4]=s?w(t[3],W):te(e[4])}return a=e[5],a&&(s=t[5],t[5]=s?sr(s,a,e[6]):te(a),t[6]=s?w(t[5],W):te(e[6])),a=e[7],a&&(t[7]=te(a)),n&q&&(t[8]=null==t[8]?e[8]:ki(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function on(t,e){return t===I?e:Oa(t,e,on)}function un(t,e){t=ln(t);for(var r=-1,n=e.length,o={};++r<n;){var u=e[r];u in t&&(o[u]=t[u])}return o}function an(t,e){var r={};return Oe(t,function(t,n,o){e(t,n,o)&&(r[n]=t)}),r}function sn(t,e){for(var r=t.length,n=ki(e.length,r),o=te(t);n--;){var u=e[n];t[n]=Yr(u,r)?o[u]:I}return t}function cn(t){for(var e=eu(t),r=e.length,n=r&&t.length,o=!!n&&en(n)&&(Ua(t)||Eo(t)),u=-1,i=[];++u<r;){var a=e[u];(o&&Yr(a,n)||ei.call(t,a))&&i.push(a)}return i}function fn(t){return null==t?[]:Kr(t)?So(t)?t:Ju(t):iu(t)}function ln(t){return So(t)?t:Ju(t)}function pn(t){if(Ua(t))return t;var e=[];return c(t).replace(Mt,function(t,r,n,o){e.push(n?o.replace(Lt,"$1"):r||t)}),e}function dn(t){return t instanceof o?t.clone():new n(t.__wrapped__,t.__chain__,te(t.__actions__))}function hn(t,e,r){e=(r?Vr(t,e,r):null==e)?1:ji(yi(e)||1,1);for(var n=0,o=t?t.length:0,u=-1,i=Gu(vi(o/e));o>n;)i[++u]=Xe(t,n,n+=e);return i}function gn(t){for(var e=-1,r=t?t.length:0,n=-1,o=[];++e<r;){var u=t[e];u&&(o[++n]=u)}return o}function vn(t,e,r){var n=t?t.length:0;return n?((r?Vr(t,e,r):null==e)&&(e=1),Xe(t,0>e?0:e)):[]}function _n(t,e,r){var n=t?t.length:0;return n?((r?Vr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Xe(t,0,0>e?0:e)):[]}function yn(t,e,r){return t&&t.length?er(t,Fr(e,r,3),!0,!0):[]}function mn(t,e,r){return t&&t.length?er(t,Fr(e,r,3),!0):[]}function bn(t,e,r,n){var o=t?t.length:0;return o?(r&&"number"!=typeof r&&Vr(t,e,r)&&(r=0,n=o),Ee(t,e,r,n)):[]}function wn(t){return t?t[0]:I}function jn(t,e,r){var n=t?t.length:0;return r&&Vr(t,e,r)&&(e=!1),n?Ue(t,e):[]}function kn(t){var e=t?t.length:0;return e?Ue(t,!0):[]}function xn(t,e,r){var n=t?t.length:0;if(!n)return-1;if("number"==typeof r)r=0>r?ji(n+r,0):r;else if(r){var o=nr(t,e);return n>o&&(e===e?e===t[o]:t[o]!==t[o])?o:-1}return a(t,e,r||0)}function An(t){return _n(t,1)}function En(t){var e=t?t.length:0;return e?t[e-1]:I}function In(t,e,r){var n=t?t.length:0;if(!n)return-1;var o=n;if("number"==typeof r)o=(0>r?ji(n+r,0):ki(r||0,n-1))+1;else if(r){o=nr(t,e,!0)-1;var u=t[o];return(e===e?e===u:u!==u)?o:-1}if(e!==e)return y(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1}function Mn(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var r=0,n=zr(),o=t.length;++r<o;)for(var u=0,i=t[r];(u=n(e,i,u))>-1;)di.call(e,u,1);return e}function Un(t,e,r){var n=[];if(!t||!t.length)return n;var o=-1,u=[],i=t.length;for(e=Fr(e,r,3);++o<i;){var a=t[o];e(a,o,t)&&(n.push(a),u.push(o))}return $e(t,u),n}function On(t){return vn(t,1)}function Pn(t,e,r){var n=t?t.length:0;return n?(r&&"number"!=typeof r&&Vr(t,e,r)&&(e=0,r=n),Xe(t,e,r)):[]}function Ln(t,e,r){var n=t?t.length:0;return n?((r?Vr(t,e,r):null==e)&&(e=1),Xe(t,0,0>e?0:e)):[]}function Cn(t,e,r){var n=t?t.length:0;return n?((r?Vr(t,e,r):null==e)&&(e=1),e=n-(+e||0),Xe(t,0>e?0:e)):[]}function Rn(t,e,r){return t&&t.length?er(t,Fr(e,r,3),!1,!0):[]}function Sn(t,e,r){return t&&t.length?er(t,Fr(e,r,3)):[]}function qn(t,e,r,n){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(n=r,r=Vr(t,e,n)?I:e,e=!1);var u=Fr();return(null!=r||u!==be)&&(r=u(r,n,3)),e&&zr()==a?j(t,r):Ze(t,r)}function Tn(t){if(!t||!t.length)return[];var e=-1,r=0;t=ae(t,function(t){return Kr(t)?(r=ji(t.length,r),!0):void 0});for(var n=Gu(r);++e<r;)n[e]=se(t,He(e));return n}function Dn(t,e,r){var n=t?t.length:0;if(!n)return[];var o=Tn(t);return null==e?o:(e=ur(e,r,4),se(o,function(t){return fe(t,e,I,!0)}))}function Nn(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(Kr(r))var n=n?ce(ke(n,r),ke(r,n)):r}return n?Ze(n):[]}function Fn(t,e){var r=-1,n=t?t.length:0,o={};for(!n||e||Ua(t[0])||(e=[]);++r<n;){var u=t[r];e?o[u]=e[r]:u&&(o[u[0]]=u[1])}return o}function Gn(t){var r=e(t);return r.__chain__=!0,r}function zn(t,e,r){return e.call(r,t),t}function Hn(t,e,r){return e.call(r,t)}function Bn(){return Gn(this)}function $n(){return new n(this.value(),this.__chain__)}function Wn(t){for(var e,n=this;n instanceof r;){var o=dn(n);e?u.__wrapped__=o:e=o;var u=o;n=n.__wrapped__}return u.__wrapped__=t,e}function Jn(){var t=this.__wrapped__,e=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof o){var r=t;return this.__actions__.length&&(r=new o(this)),r=r.reverse(),r.__actions__.push({func:Hn,args:[e],thisArg:I}),new n(r,this.__chain__)}return this.thru(e)}function Xn(){return this.value()+""}function Qn(){return rr(this.__wrapped__,this.__actions__)}function Kn(t,e,r){var n=Ua(t)?ue:xe;return r&&Vr(t,e,r)&&(e=I),("function"!=typeof e||r!==I)&&(e=Fr(e,r,3)),n(t,e)}function Yn(t,e,r){var n=Ua(t)?ae:Ie;return e=Fr(e,r,3),n(t,e)}function Vn(t,e){return oa(t,Ne(e))}function Zn(t,e,r,n){var o=t?zi(t):0;return en(o)||(t=iu(t),o=t.length),r="number"!=typeof r||n&&Vr(e,r,n)?0:0>r?ji(o+r,0):r||0,"string"==typeof t||!Ua(t)&&Ho(t)?o>=r&&t.indexOf(e,r)>-1:!!o&&zr(t,e,r)>-1}function to(t,e,r){var n=Ua(t)?se:De;return e=Fr(e,r,3),n(t,e)}function eo(t,e){return to(t,Ru(e))}function ro(t,e,r){var n=Ua(t)?ae:Ie;return e=Fr(e,r,3),n(t,function(t,r,n){return!e(t,r,n)})}function no(t,e,r){if(r?Vr(t,e,r):null==e){t=fn(t);var n=t.length;return n>0?t[We(0,n-1)]:I}var o=-1,u=Xo(t),n=u.length,i=n-1;for(e=ki(0>e?0:+e||0,n);++o<e;){var a=We(o,i),s=u[a];u[a]=u[o],u[o]=s}return u.length=e,u}function oo(t){return no(t,Mi)}function uo(t){var e=t?zi(t):0;return en(e)?e:Fa(t).length}function io(t,e,r){var n=Ua(t)?pe:Qe;return r&&Vr(t,e,r)&&(e=I),("function"!=typeof e||r!==I)&&(e=Fr(e,r,3)),n(t,e)}function ao(t,e,r){if(null==t)return[];r&&Vr(t,e,r)&&(e=I);var n=-1;e=Fr(e,r,3);var o=De(t,function(t,r,o){return{criteria:e(t,r,o),index:++n,value:t}});return Ke(o,p)}function so(t,e,r,n){return null==t?[]:(n&&Vr(e,r,n)&&(r=I),Ua(e)||(e=null==e?[]:[e]),Ua(r)||(r=null==r?[]:[r]),Ye(t,e,r))}function co(t,e){return Yn(t,Ne(e))}function fo(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ku($);var r=t;t=e,e=r}return t=bi(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function lo(t,e,r){return r&&Vr(t,e,r)&&(e=I),e=t&&null==e?t.length:ji(+e||0,0),qr(t,q,I,I,I,I,e)}function po(t,e){var r;if("function"!=typeof e){if("function"!=typeof t)throw new Ku($);var n=t;t=e,e=n}return function(){return--t>0&&(r=e.apply(this,arguments)),1>=t&&(e=I),r}}function ho(t,e,r){function n(){d&&ai(d),c&&ai(c),g=0,c=d=h=I}function o(e,r){r&&ai(r),c=d=h=I,e&&(g=ga(),f=t.apply(p,s),d||c||(s=p=I))}function u(){var t=e-(ga()-l);0>=t||t>e?o(h,c):d=pi(u,t)}function i(){o(_,d)}function a(){if(s=arguments,l=ga(),p=this,h=_&&(d||!y),v===!1)var r=y&&!d;else{c||y||(g=l);var n=v-(l-g),o=0>=n||n>v;o?(c&&(c=ai(c)),g=l,f=t.apply(p,s)):c||(c=pi(i,n))}return o&&d?d=ai(d):d||e===v||(d=pi(u,e)),r&&(o=!0,f=t.apply(p,s)),!o||d||c||(s=p=I),f}var s,c,f,l,p,d,h,g=0,v=!1,_=!0;if("function"!=typeof t)throw new Ku($);if(e=0>e?0:+e||0,r===!0){var y=!0;_=!1}else So(r)&&(y=!!r.leading,v="maxWait"in r&&ji(+r.maxWait||0,e),_="trailing"in r?!!r.trailing:_);return a.cancel=n,a}function go(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Ku($);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var i=t.apply(this,n);return r.cache=u.set(o,i),i};return r.cache=new go.Cache,r}function vo(t){if("function"!=typeof t)throw new Ku($);return function(){return!t.apply(this,arguments)}}function _o(t){return po(2,t)}function yo(t,e){if("function"!=typeof t)throw new Ku($);return e=ji(e===I?t.length-1:+e||0,0),function(){for(var r=arguments,n=-1,o=ji(r.length-e,0),u=Gu(o);++n<o;)u[n]=r[e+n];switch(e){case 0:return t.call(this,u);case 1:return t.call(this,r[0],u);case 2:return t.call(this,r[0],r[1],u)}var i=Gu(e+1);for(n=-1;++n<e;)i[n]=r[n];return i[e]=u,t.apply(this,i)}}function mo(t){if("function"!=typeof t)throw new Ku($);return function(e){return t.apply(this,e)}}function bo(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new Ku($);return r===!1?n=!1:So(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),ho(t,e,{leading:n,maxWait:+e,trailing:o})}function wo(t,e){return e=null==e?Mu:e,qr(e,R,I,[t],[])}function jo(t,e,r,n){return e&&"boolean"!=typeof e&&Vr(t,e,r)?e=!1:"function"==typeof e&&(n=r,r=e,e=!1),"function"==typeof r?we(t,e,ur(r,n,1)):we(t,e)}function ko(t,e,r){return"function"==typeof e?we(t,!0,ur(e,r,1)):we(t,!0)}function xo(t,e){return t>e}function Ao(t,e){return t>=e}function Eo(t){return m(t)&&Kr(t)&&ei.call(t,"callee")&&!fi.call(t,"callee")}function Io(t){return t===!0||t===!1||m(t)&&ni.call(t)==Q}function Mo(t){return m(t)&&ni.call(t)==K}function Uo(t){return!!t&&1===t.nodeType&&m(t)&&!Go(t)}function Oo(t){return null==t?!0:Kr(t)&&(Ua(t)||Ho(t)||Eo(t)||m(t)&&Ro(t.splice))?!t.length:!Fa(t).length}function Po(t,e,r,n){r="function"==typeof r?ur(r,n,3):I;var o=r?r(t,e):I;return o===I?Se(t,e,r):!!o}function Lo(t){return m(t)&&"string"==typeof t.message&&ni.call(t)==Y}function Co(t){return"number"==typeof t&&bi(t)}function Ro(t){return So(t)&&ni.call(t)==V}function So(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function qo(t,e,r,n){return r="function"==typeof r?ur(r,n,3):I,Te(t,Hr(e),r)}function To(t){return Fo(t)&&t!=+t}function Do(t){return null==t?!1:Ro(t)?ui.test(ti.call(t)):m(t)&&qt.test(t)}function No(t){return null===t}function Fo(t){return"number"==typeof t||m(t)&&ni.call(t)==tt}function Go(t){var e;if(!m(t)||ni.call(t)!=et||Eo(t)||!ei.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var r;return Oe(t,function(t,e){r=e}),r===I||ei.call(t,r)}function zo(t){return So(t)&&ni.call(t)==rt}function Ho(t){return"string"==typeof t||m(t)&&ni.call(t)==ot}function Bo(t){return m(t)&&en(t.length)&&!!Bt[ni.call(t)]}function $o(t){return t===I}function Wo(t,e){return e>t}function Jo(t,e){return e>=t}function Xo(t){var e=t?zi(t):0;return en(e)?e?te(t):[]:iu(t)}function Qo(t){return me(t,eu(t))}function Ko(t,e,r){var n=Si(t);return r&&Vr(t,e,r)&&(e=I),e?_e(n,e):n}function Yo(t){return Ce(t,eu(t))}function Vo(t,e,r){var n=null==t?I:Re(t,pn(e),e+"");return n===I?r:n}function Zo(t,e){if(null==t)return!1;var r=ei.call(t,e);if(!r&&!Zr(e)){if(e=pn(e),t=1==e.length?t:Re(t,Xe(e,0,-1)),null==t)return!1;e=En(e),r=ei.call(t,e)}return r||en(t.length)&&Yr(e,t.length)&&(Ua(t)||Eo(t))}function tu(t,e,r){r&&Vr(t,e,r)&&(e=I);for(var n=-1,o=Fa(t),u=o.length,i={};++n<u;){var a=o[n],s=t[a];e?ei.call(i,s)?i[s].push(a):i[s]=[a]:i[s]=a}return i}function eu(t){if(null==t)return[];So(t)||(t=Ju(t));var e=t.length;e=e&&en(e)&&(Ua(t)||Eo(t))&&e||0;for(var r=t.constructor,n=-1,o="function"==typeof r&&r.prototype===t,u=Gu(e),i=e>0;++n<e;)u[n]=n+"";for(var a in t)i&&Yr(a,e)||"constructor"==a&&(o||!ei.call(t,a))||u.push(a);return u}function ru(t){t=ln(t);for(var e=-1,r=Fa(t),n=r.length,o=Gu(n);++e<n;){var u=r[e];o[e]=[u,t[u]]}return o}function nu(t,e,r){var n=null==t?I:t[e];return n===I&&(null==t||Zr(e,t)||(e=pn(e),t=1==e.length?t:Re(t,Xe(e,0,-1)),n=null==t?I:t[En(e)]),n=n===I?r:n),Ro(n)?n.call(t):n}function ou(t,e,r){if(null==t)return t;var n=e+"";e=null!=t[n]||Zr(e,t)?[n]:pn(e);for(var o=-1,u=e.length,i=u-1,a=t;null!=a&&++o<u;){var s=e[o];So(a)&&(o==i?a[s]=r:null==a[s]&&(a[s]=Yr(e[o+1])?[]:{})),a=a[s]}return t}function uu(t,e,r,n){var o=Ua(t)||Bo(t);if(e=Fr(e,n,4),null==r)if(o||So(t)){var u=t.constructor;r=o?Ua(t)?new u:[]:Si(Ro(u)?u.prototype:I)}else r={};return(o?ee:Pe)(t,function(t,n,o){return e(r,t,n,o)}),r}function iu(t){return tr(t,Fa(t))}function au(t){return tr(t,eu(t))}function su(t,e,r){return e=+e||0,r===I?(r=e,e=0):r=+r||0,t>=ki(e,r)&&t<ji(e,r)}function cu(t,e,r){r&&Vr(t,e,r)&&(e=r=I);var n=null==t,o=null==e;if(null==r&&(o&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof e&&(r=e,o=!0)),n&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,r||t%1||e%1){var u=Ei();return ki(t+u*(e-t+si("1e-"+((u+"").length-1))),e)}return We(t,e)}function fu(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lu(t){return t=c(t),t&&t.replace(Dt,h).replace(Pt,"")}function pu(t,e,r){t=c(t),e+="";var n=t.length;return r=r===I?n:ki(0>r?0:+r||0,n),r-=e.length,r>=0&&t.indexOf(e,r)==r}function du(t){return t=c(t),t&&jt.test(t)?t.replace(bt,g):t}function hu(t){return t=c(t),t&&Ot.test(t)?t.replace(Ut,v):t||"(?:)"}function gu(t,e,r){t=c(t),e=+e;var n=t.length;if(n>=e||!bi(e))return t;var o=(e-n)/2,u=yi(o),i=vi(o);return r=Lr("",i,r),r.slice(0,u)+t+r}function vu(t,e,r){return(r?Vr(t,e,r):null==e)?e=0:e&&(e=+e),t=bu(t),Ai(t,e||(St.test(t)?16:10))}function _u(t,e){var r="";if(t=c(t),e=+e,1>e||!t||!bi(e))return r;do e%2&&(r+=t),e=yi(e/2),t+=t;while(e);return r}function yu(t,e,r){return t=c(t),r=null==r?0:ki(0>r?0:+r||0,t.length),t.lastIndexOf(e,r)==r}function mu(t,r,n){var o=e.templateSettings;n&&Vr(t,r,n)&&(r=n=I),t=c(t),r=ve(_e({},n||r),o,ge);var u,i,a=ve(_e({},r.imports),o.imports,ge),s=Fa(a),f=tr(a,s),l=0,p=r.interpolate||Nt,d="__p += '",h=Xu((r.escape||Nt).source+"|"+p.source+"|"+(p===At?Ct:Nt).source+"|"+(r.evaluate||Nt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Ht+"]")+"\n";t.replace(h,function(e,r,n,o,a,s){return n||(n=o),d+=t.slice(l,s).replace(Ft,_),r&&(u=!0,d+="' +\n__e("+r+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),d+="';\n";var v=r.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(i?d.replace(vt,""):d).replace(_t,"$1").replace(yt,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Ya(function(){return Bu(s,g+"return "+d).apply(I,f)});if(y.source=d,Lo(y))throw y;return y}function bu(t,e,r){var n=t;return(t=c(t))?(r?Vr(n,e,r):null==e)?t.slice(k(t),x(t)+1):(e+="",t.slice(f(t,e),l(t,e)+1)):t}function wu(t,e,r){var n=t;return t=c(t),t?(r?Vr(n,e,r):null==e)?t.slice(k(t)):t.slice(f(t,e+"")):t}function ju(t,e,r){var n=t;return t=c(t),t?(r?Vr(n,e,r):null==e)?t.slice(0,x(t)+1):t.slice(0,l(t,e+"")+1):t}function ku(t,e,r){r&&Vr(t,e,r)&&(e=I);var n=D,o=N;if(null!=e)if(So(e)){var u="separator"in e?e.separator:u;n="length"in e?+e.length||0:n,o="omission"in e?c(e.omission):o}else n=+e||0;if(t=c(t),n>=t.length)return t;var i=n-o.length;if(1>i)return o;var a=t.slice(0,i);if(null==u)return a+o;if(zo(u)){if(t.slice(i).search(u)){var s,f,l=t.slice(0,i);for(u.global||(u=Xu(u.source,(Rt.exec(u)||"")+"g")),u.lastIndex=0;s=u.exec(l);)f=s.index;a=a.slice(0,null==f?i:f)}}else if(t.indexOf(u,i)!=i){var p=a.lastIndexOf(u);p>-1&&(a=a.slice(0,p))}return a+o}function xu(t){return t=c(t),t&&wt.test(t)?t.replace(mt,A):t}function Au(t,e,r){return r&&Vr(t,e,r)&&(e=I),t=c(t),t.match(e||Gt)||[]}function Eu(t,e,r){return r&&Vr(t,e,r)&&(e=I),m(t)?Uu(t):be(t,e)}function Iu(t){return function(){return t}}function Mu(t){return t}function Uu(t){return Ne(we(t,!0))}function Ou(t,e){return Fe(t,we(e,!0))}function Pu(t,e,r){if(null==r){var n=So(e),o=n?Fa(e):I,u=o&&o.length?Ce(e,o):I;(u?u.length:n)||(u=!1,r=e,e=t,t=this)}u||(u=Ce(e,Fa(e)));var i=!0,a=-1,s=Ro(t),c=u.length;r===!1?i=!1:So(r)&&"chain"in r&&(i=r.chain);for(;++a<c;){var f=u[a],l=e[f];t[f]=l,s&&(t.prototype[f]=function(e){return function(){var r=this.__chain__;if(i||r){var n=t(this.__wrapped__),o=n.__actions__=te(this.__actions__);return o.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,ce([this.value()],arguments))}}(l))}return t}function Lu(){return ne._=oi,this}function Cu(){}function Ru(t){return Zr(t)?He(t):Be(t)}function Su(t){return function(e){return Re(t,pn(e),e+"")}}function qu(t,e,r){r&&Vr(t,e,r)&&(e=r=I),t=+t||0,r=null==r?1:+r||0,null==e?(e=t,t=0):e=+e||0;for(var n=-1,o=ji(vi((e-t)/(r||1)),0),u=Gu(o);++n<o;)u[n]=t,t+=r;return u}function Tu(t,e,r){if(t=yi(t),1>t||!bi(t))return[];var n=-1,o=Gu(ki(t,Ui));for(e=ur(e,r,1);++n<t;)Ui>n?o[n]=e(n):e(n);return o}function Du(t){var e=++ri;return c(t)+e}function Nu(t,e){return(+t||0)+(+e||0)}function Fu(t,e,r){return r&&Vr(t,e,r)&&(e=I),e=Fr(e,r,3),1==e.length?de(Ua(t)?t:fn(t),e):Ve(t,e)}t=t?oe.defaults(ne.Object(),t,oe.pick(ne,zt)):ne;var Gu=t.Array,zu=t.Date,Hu=t.Error,Bu=t.Function,$u=t.Math,Wu=t.Number,Ju=t.Object,Xu=t.RegExp,Qu=t.String,Ku=t.TypeError,Yu=Gu.prototype,Vu=Ju.prototype,Zu=Qu.prototype,ti=Bu.prototype.toString,ei=Vu.hasOwnProperty,ri=0,ni=Vu.toString,oi=ne._,ui=Xu("^"+ti.call(ei).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ii=t.ArrayBuffer,ai=t.clearTimeout,si=t.parseFloat,ci=$u.pow,fi=Vu.propertyIsEnumerable,li=Br(t,"Set"),pi=t.setTimeout,di=Yu.splice,hi=t.Uint8Array,gi=Br(t,"WeakMap"),vi=$u.ceil,_i=Br(Ju,"create"),yi=$u.floor,mi=Br(Gu,"isArray"),bi=t.isFinite,wi=Br(Ju,"keys"),ji=$u.max,ki=$u.min,xi=Br(zu,"now"),Ai=t.parseInt,Ei=$u.random,Ii=Wu.NEGATIVE_INFINITY,Mi=Wu.POSITIVE_INFINITY,Ui=4294967295,Oi=Ui-1,Pi=Ui>>>1,Li=9007199254740991,Ci=gi&&new gi,Ri={};e.support={};e.templateSettings={escape:kt,evaluate:xt,interpolate:At,variable:"",imports:{_:e}};var Si=function(){function t(){}return function(e){if(So(e)){t.prototype=e;var r=new t;t.prototype=I}return r||{}}}(),qi=lr(Pe),Ti=lr(Le,!0),Di=pr(),Ni=pr(!0),Fi=Ci?function(t,e){return Ci.set(t,e),t}:Mu,Gi=Ci?function(t){return Ci.get(t)}:Cu,zi=He("length"),Hi=function(){var t=0,e=0;return function(r,n){var o=ga(),u=G-(o-e);if(e=o,u>0){if(++t>=F)return r}else t=0;return Fi(r,n)}}(),Bi=yo(function(t,e){return m(t)&&Kr(t)?ke(t,Ue(e,!1,!0)):[]}),$i=wr(),Wi=wr(!0),Ji=yo(function(t){for(var e=t.length,r=e,n=Gu(l),o=zr(),u=o==a,i=[];r--;){var s=t[r]=Kr(s=t[r])?s:[];n[r]=u&&s.length>=120?hr(r&&s):null}var c=t[0],f=-1,l=c?c.length:0,p=n[0];t:for(;++f<l;)if(s=c[f],(p?Yt(p,s):o(i,s,0))<0){for(var r=e;--r;){var d=n[r];if((d?Yt(d,s):o(t[r],s,0))<0)continue t}p&&p.push(s),i.push(s)}return i}),Xi=yo(function(t,e){e=Ue(e);var r=ye(t,e);return $e(t,e.sort(u)),r}),Qi=Sr(),Ki=Sr(!0),Yi=yo(function(t){return Ze(Ue(t,!1,!0))}),Vi=yo(function(t,e){return Kr(t)?ke(t,e):[]}),Zi=yo(Tn),ta=yo(function(t){var e=t.length,r=e>2?t[e-2]:I,n=e>1?t[e-1]:I;return e>2&&"function"==typeof r?e-=2:(r=e>1&&"function"==typeof n?(--e,n):I,n=I),t.length=e,Dn(t,r,n)}),ea=yo(function(t){return t=Ue(t),this.thru(function(e){return Zt(Ua(e)?e:[ln(e)],t)})}),ra=yo(function(t,e){return ye(t,Ue(e))}),na=cr(function(t,e,r){ei.call(t,r)?++t[r]:t[r]=1}),oa=br(qi),ua=br(Ti,!0),ia=xr(ee,qi),aa=xr(re,Ti),sa=cr(function(t,e,r){ei.call(t,r)?t[r].push(e):t[r]=[e]}),ca=cr(function(t,e,r){t[r]=e}),fa=yo(function(t,e,r){var n=-1,o="function"==typeof e,u=Zr(e),i=Kr(t)?Gu(t.length):[];return qi(t,function(t){var a=o?e:u&&null!=t?t[e]:I;i[++n]=a?a.apply(t,r):Qr(t,e,r)}),i}),la=cr(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),pa=Or(fe,qi),da=Or(le,Ti),ha=yo(function(t,e){if(null==t)return[];var r=e[2];return r&&Vr(e[0],e[1],r)&&(e.length=1),Ye(t,Ue(e),[])}),ga=xi||function(){return(new zu).getTime()},va=yo(function(t,e,r){var n=U;if(r.length){var o=w(r,va.placeholder);n|=R}return qr(t,n,e,r,o)}),_a=yo(function(t,e){e=e.length?Ue(e):Yo(t);for(var r=-1,n=e.length;++r<n;){var o=e[r];t[o]=qr(t[o],U,t)}return t}),ya=yo(function(t,e,r){var n=U|O;if(r.length){var o=w(r,ya.placeholder);n|=R}return qr(e,n,t,r,o)}),ma=_r(L),ba=_r(C),wa=yo(function(t,e){return je(t,1,e)}),ja=yo(function(t,e,r){return je(t,e,r)}),ka=kr(),xa=kr(!0),Aa=yo(function(t,e){if(e=Ue(e),"function"!=typeof t||!ue(e,s))throw new Ku($);var r=e.length;return yo(function(n){for(var o=ki(n.length,r);o--;)n[o]=e[o](n[o]);return t.apply(this,n)})}),Ea=Ur(R),Ia=Ur(S),Ma=yo(function(t,e){return qr(t,T,I,I,I,Ue(e))}),Ua=mi||function(t){return m(t)&&en(t.length)&&ni.call(t)==X},Oa=fr(Ge),Pa=fr(function(t,e,r){return r?ve(t,e,r):_e(t,e)}),La=yr(Pa,he),Ca=yr(Oa,on),Ra=jr(Pe),Sa=jr(Le),qa=Ar(Di),Ta=Ar(Ni),Da=Er(Pe),Na=Er(Le),Fa=wi?function(t){var e=null==t?I:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Kr(t)?cn(t):So(t)?wi(t):[]}:cn,Ga=Ir(!0),za=Ir(),Ha=yo(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=se(Ue(e),Qu);return un(t,ke(eu(t),e))}var r=ur(e[0],e[1],3);return an(t,function(t,e,n){return!r(t,e,n)})}),Ba=yo(function(t,e){return null==t?{}:"function"==typeof e[0]?an(t,ur(e[0],e[1],3)):un(t,Ue(e))}),$a=gr(function(t,e,r){return e=e.toLowerCase(),t+(r?e.charAt(0).toUpperCase()+e.slice(1):e)}),Wa=gr(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ja=Mr(),Xa=Mr(!0),Qa=gr(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Ka=gr(function(t,e,r){return t+(r?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ya=yo(function(t,e){try{return t.apply(I,e)}catch(r){return Lo(r)?r:new Hu(r)}}),Va=yo(function(t,e){return function(r){return Qr(r,t,e)}}),Za=yo(function(t,e){return function(r){return Qr(t,r,e)}}),ts=Rr("ceil"),es=Rr("floor"),rs=mr(xo,Ii),ns=mr(Wo,Mi),os=Rr("round");return e.prototype=r.prototype,n.prototype=Si(r.prototype),n.prototype.constructor=n,o.prototype=Si(r.prototype),o.prototype.constructor=o,ut.prototype.delete=Wt,ut.prototype.get=Jt,ut.prototype.has=Xt,ut.prototype.set=Qt,Kt.prototype.push=Vt,go.Cache=ut,e.after=fo,e.ary=lo,e.assign=Pa,e.at=ra,e.before=po,e.bind=va,e.bindAll=_a,e.bindKey=ya,e.callback=Eu,e.chain=Gn,e.chunk=hn,e.compact=gn,e.constant=Iu,e.countBy=na,e.create=Ko,e.curry=ma,e.curryRight=ba,e.debounce=ho,e.defaults=La,e.defaultsDeep=Ca,e.defer=wa,e.delay=ja,e.difference=Bi,e.drop=vn,e.dropRight=_n,e.dropRightWhile=yn,e.dropWhile=mn,e.fill=bn,e.filter=Yn,e.flatten=jn,e.flattenDeep=kn,e.flow=ka,e.flowRight=xa,e.forEach=ia,e.forEachRight=aa,e.forIn=qa,e.forInRight=Ta,e.forOwn=Da,e.forOwnRight=Na,e.functions=Yo,e.groupBy=sa,e.indexBy=ca,e.initial=An,e.intersection=Ji,e.invert=tu,e.invoke=fa,e.keys=Fa,e.keysIn=eu,e.map=to,e.mapKeys=Ga,e.mapValues=za,e.matches=Uu,e.matchesProperty=Ou,e.memoize=go,e.merge=Oa,e.method=Va,e.methodOf=Za,e.mixin=Pu,e.modArgs=Aa,e.negate=vo,e.omit=Ha,e.once=_o,e.pairs=ru,e.partial=Ea,e.partialRight=Ia,e.partition=la,e.pick=Ba,e.pluck=eo,e.property=Ru,e.propertyOf=Su,e.pull=Mn,e.pullAt=Xi,e.range=qu,e.rearg=Ma,e.reject=ro,e.remove=Un,e.rest=On,e.restParam=yo,e.set=ou,e.shuffle=oo,e.slice=Pn,e.sortBy=ao,e.sortByAll=ha,e.sortByOrder=so,e.spread=mo,e.take=Ln,e.takeRight=Cn,e.takeRightWhile=Rn,e.takeWhile=Sn,e.tap=zn,e.throttle=bo,e.thru=Hn,e.times=Tu,e.toArray=Xo,e.toPlainObject=Qo,e.transform=uu,e.union=Yi,e.uniq=qn,e.unzip=Tn,e.unzipWith=Dn,e.values=iu,e.valuesIn=au,e.where=co,e.without=Vi,e.wrap=wo,e.xor=Nn,e.zip=Zi,e.zipObject=Fn,e.zipWith=ta,e.backflow=xa,e.collect=to,e.compose=xa,e.each=ia,e.eachRight=aa,e.extend=Pa,e.iteratee=Eu,e.methods=Yo,e.object=Fn,e.select=Yn,e.tail=On,e.unique=qn,Pu(e,e),e.add=Nu,e.attempt=Ya,e.camelCase=$a,e.capitalize=fu,e.ceil=ts,e.clone=jo,e.cloneDeep=ko,e.deburr=lu,e.endsWith=pu,e.escape=du,e.escapeRegExp=hu,e.every=Kn,e.find=oa,e.findIndex=$i,e.findKey=Ra,e.findLast=ua,e.findLastIndex=Wi,e.findLastKey=Sa,e.findWhere=Vn,e.first=wn,e.floor=es,e.get=Vo,e.gt=xo,e.gte=Ao,e.has=Zo,e.identity=Mu,e.includes=Zn,e.indexOf=xn,e.inRange=su,e.isArguments=Eo,e.isArray=Ua,e.isBoolean=Io,e.isDate=Mo,e.isElement=Uo,e.isEmpty=Oo,e.isEqual=Po,e.isError=Lo,e.isFinite=Co,e.isFunction=Ro,e.isMatch=qo,e.isNaN=To,e.isNative=Do,e.isNull=No,e.isNumber=Fo,e.isObject=So,e.isPlainObject=Go,e.isRegExp=zo,e.isString=Ho,e.isTypedArray=Bo,e.isUndefined=$o,e.kebabCase=Wa,e.last=En,e.lastIndexOf=In,e.lt=Wo,e.lte=Jo,e.max=rs,e.min=ns,e.noConflict=Lu,e.noop=Cu,e.now=ga,e.pad=gu,e.padLeft=Ja,e.padRight=Xa,e.parseInt=vu,e.random=cu,e.reduce=pa,e.reduceRight=da,e.repeat=_u,e.result=nu,e.round=os,e.runInContext=E,e.size=uo,e.snakeCase=Qa,e.some=io,e.sortedIndex=Qi,e.sortedLastIndex=Ki,e.startCase=Ka,e.startsWith=yu,e.sum=Fu,e.template=mu,e.trim=bu,e.trimLeft=wu,e.trimRight=ju,e.trunc=ku,e.unescape=xu,e.uniqueId=Du,e.words=Au,e.all=Kn,e.any=io,e.contains=Zn,e.eq=Po,e.detect=oa,e.foldl=pa,e.foldr=da,e.head=wn,e.include=Zn,e.inject=pa,Pu(e,function(){var t={};return Pe(e,function(r,n){e.prototype[n]||(t[n]=r)}),t}(),!1),e.sample=no,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return no(e,t)}):no(this.value())},e.VERSION=M,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){o.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new o(this);r=null==r?1:ji(yi(r)||0,0);var u=this.clone();return n?u.__takeCount__=ki(u.__takeCount__,r):u.__views__.push({size:r,type:t+(u.__dir__<0?"Right":"")}),u},o.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r!=B;o.prototype[t]=function(t,e){var o=this.clone();return o.__iteratees__.push({iteratee:Fr(t,e,1),type:r}),o.__filtered__=o.__filtered__||n,o}}),ee(["first","last"],function(t,e){var r="take"+(e?"Right":"");o.prototype[t]=function(){return this[r](1).value()[0]}}),ee(["initial","rest"],function(t,e){var r="drop"+(e?"":"Right");o.prototype[t]=function(){return this.__filtered__?new o(this):this[r](1)}}),ee(["pluck","where"],function(t,e){var r=e?"filter":"map",n=e?Ne:Ru;o.prototype[t]=function(t){return this[r](n(t))}}),o.prototype.compact=function(){return this.filter(Mu)},o.prototype.reject=function(t,e){return t=Fr(t,e,1),this.filter(function(e){return!t(e)})},o.prototype.slice=function(t,e){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||0>e)?new o(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==I&&(e=+e||0,r=0>e?r.dropRight(-e):r.take(e-t)),r)},o.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},o.prototype.toArray=function(){return this.take(Mi)},Pe(o.prototype,function(t,r){var u=/^(?:filter|map|reject)|While$/.test(r),i=/^(?:first|last)$/.test(r),a=e[i?"take"+("last"==r?"Right":""):r];a&&(e.prototype[r]=function(){var e=i?[1]:arguments,r=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,f=s instanceof o,l=e[0],p=f||Ua(s);p&&u&&"function"==typeof l&&1!=l.length&&(f=p=!1);var d=function(t){return i&&r?a(t,1)[0]:a.apply(I,ce([t],e))},h={func:Hn,args:[d],thisArg:I},g=f&&!c;if(i&&!r)return g?(s=s.clone(),s.__actions__.push(h),t.call(s)):a.call(I,this.value())[0];if(!i&&p){s=g?s:new o(this);var v=t.apply(s,e);return v.__actions__.push(h),new n(v,r)}return this.thru(d)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var r=(/^(?:replace|split)$/.test(t)?Zu:Yu)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?r.apply(this.value(),t):this[n](function(e){return r.apply(e,t)})}}),Pe(o.prototype,function(t,r){var n=e[r];if(n){var o=n.name,u=Ri[o]||(Ri[o]=[]);u.push({name:r,func:n})}}),Ri[Pr(I,O).name]=[{name:"wrapper",func:I}],o.prototype.clone=b,o.prototype.reverse=Z,o.prototype.value=nt,e.prototype.chain=Bn,e.prototype.commit=$n,e.prototype.concat=ea,e.prototype.plant=Wn,e.prototype.reverse=Jn,e.prototype.toString=Xn,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Qn,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var I,M="3.10.1",U=1,O=2,P=4,L=8,C=16,R=32,S=64,q=128,T=256,D=30,N="...",F=150,G=16,z=200,H=1,B=2,$="Expected a function",W="__lodash_placeholder__",J="[object Arguments]",X="[object Array]",Q="[object Boolean]",K="[object Date]",Y="[object Error]",V="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",rt="[object RegExp]",nt="[object Set]",ot="[object String]",ut="[object WeakMap]",it="[object ArrayBuffer]",at="[object Float32Array]",st="[object Float64Array]",ct="[object Int8Array]",ft="[object Int16Array]",lt="[object Int32Array]",pt="[object Uint8Array]",dt="[object Uint8ClampedArray]",ht="[object Uint16Array]",gt="[object Uint32Array]",vt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(mt.source),jt=RegExp(bt.source),kt=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,It=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ut=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ot=RegExp(Ut.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,Lt=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rt=/\w*$/,St=/^0[xX]/,qt=/^\[object .+?Constructor\]$/,Tt=/^\d+$/,Dt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nt=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,Gt=function(){
var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),zt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ht=-1,Bt={};Bt[at]=Bt[st]=Bt[ct]=Bt[ft]=Bt[lt]=Bt[pt]=Bt[dt]=Bt[ht]=Bt[gt]=!0,Bt[J]=Bt[X]=Bt[it]=Bt[Q]=Bt[K]=Bt[Y]=Bt[V]=Bt[Z]=Bt[tt]=Bt[et]=Bt[rt]=Bt[nt]=Bt[ot]=Bt[ut]=!1;var $t={};$t[J]=$t[X]=$t[it]=$t[Q]=$t[K]=$t[at]=$t[st]=$t[ct]=$t[ft]=$t[lt]=$t[tt]=$t[et]=$t[rt]=$t[ot]=$t[pt]=$t[dt]=$t[ht]=$t[gt]=!0,$t[Y]=$t[V]=$t[Z]=$t[nt]=$t[ut]=!1;var Wt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qt={"function":!0,object:!0},Kt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=Qt[typeof e]&&e&&!e.nodeType&&e,Zt=Qt[typeof t]&&t&&!t.nodeType&&t,te=Vt&&Zt&&"object"==typeof o&&o&&o.Object&&o,ee=Qt[typeof self]&&self&&self.Object&&self,re=Qt[typeof window]&&window&&window.Object&&window,ne=(Zt&&Zt.exports===Vt&&Vt,te||re!==(this&&this.window)&&re||ee||this),oe=E();ne._=oe,n=function(){return oe}.call(e,r,e,t),!(n!==I&&(t.exports=n))}).call(this)}).call(e,r(16)(t),function(){return this}())},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=r(2),i={envs:{local:{serverUrl:"http://localhost:4000",logLevel:"trace"},dev:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"debug"},stage:{serverUrl:"http://tessellate-stage.elasticbeanstalk.com",logLevel:"info"},prod:{serverUrl:"http://tessellate.elasticbeanstalk.com",logLevel:"error"}},tokenName:"tessellate",tokenDataName:"tessellate-tokenData",tokenUserDataName:"tessellate-currentUser",externalAuth:{tessellate:{google:"582741153619-9b3vifnmv2a32v49l63got889tgmnrhs.apps.googleusercontent.com",redirectUrl:"http://localhost:3000/oauth"},devshare:{google:"54741256621-d511263ke51ni32g1jalb9or85ckf5gr.apps.googleusercontent.com",redirectUrl:"http://devshare.io/oauth"}}},a=null,s="prod",c=null,f=function(){function t(){return n(this,t),a||(a=this),(0,u.merge)(a,i)}return o(t,[{key:"applySettings",value:function(t){(0,u.merge)(a,t)}},{key:"serverUrl",get:function(){var t=i.envs[s].serverUrl;if("undefined"!=typeof window&&(0,u.has)(window,"location")&&(0,u.has)(window.location,"host")&&""!==window.location.host){var e=(0,u.find)(i.envs,function(t){return t.serverUrl===window.location.host});e&&(t="")}return t}},{key:"logLevel",set:function(t){c=t},get:function(){return c?c:i.envs[s].logLevel}},{key:"envName",set:function(t){s=t},get:function(){return s}},{key:"env",get:function(){return i.envs[s]?i.envs[s]:void 0}}]),t}(),l=new f;e.default=l,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if("undefined"==typeof document)throw c.default.error({description:"Document does not exsist to load assets into.",func:"loadCss",obj:"dom"}),new Error("Document object is required to load assets.");var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].insertBefore(e,document.getElementsByTagName("head")[0].firstChild),c.default.log({description:"CSS was loaded into document.",element:e,func:"loadCss",obj:"dom"}),e}function u(t){if("undefined"!=typeof window&&(0,f.has)(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),c.default.log({description:"JS was loaded into document.",element:e,func:"loadJs",obj:"dom"}),e}throw c.default.error({description:"Document does not exsist to load assets into.",func:"loadJs",obj:"dom"}),new Error("Document object is required to load assets.")}function i(t){if("undefined"!=typeof window&&(0,f.has)(window,"document")){var e=window.document.createElement("script");return e.src=t,e.type="text/javascript",window.document.getElementsByTagName("head")[0].appendChild(e),c.default.log({description:"JS was loaded into document.",element:e,func:"asyncLoadJs",obj:"dom"}),new Promise(function(t){window.setTimeout(t,200)})}throw c.default.error({description:"Document does not exsist to load assets into.",func:"asyncLoadJs",obj:"dom"}),new Error("Document object is required to load assets.")}function a(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),r=e.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}Object.defineProperty(e,"__esModule",{value:!0}),e.loadCss=o,e.loadJs=u,e.asyncLoadJs=i,e.getQueryParam=a;var s=r(1),c=n(s),f=r(2)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),u=n(o),i=r(2),a=n(i),s={},c={get localExists(){var t="test";if("undefined"==typeof window||"undefined"==typeof window.sessionStorage)return!1;try{return window.sessionStorage.setItem(t,"1"),window.sessionStorage.removeItem(t),!0}catch(e){return u.default.error({description:"Error saving to session storage",error:e,obj:"storage",func:"localExists"}),!1}},item:function(t,e){return this.setItem(t,e)},setItem:function(t,e){s[t]=e,this.localExists&&(a.default.isObject(e)&&(e=JSON.stringify(e)),window.sessionStorage.setItem(t,e))},getItem:function(t){if(s[t])return s[t];if(this.localExists){var e=window.sessionStorage.getItem(t);if(e){var r=!1,n=null;try{n=JSON.parse(e),r=!0}catch(o){r=!1}if(r)return n}return e}return null},removeItem:function(t){if(s[t]&&(s[t]=null),this.localExists)try{window.sessionStorage.removeItem(t)}catch(e){u.default.error({description:"Error removing item from session storage",error:e,obj:"storage",func:"removeItem"})}},clear:function(){if(s={},this.localExists)try{window.sessionStorage.clear()}catch(t){u.default.warn({description:"Session storage could not be cleared.",error:t})}}};e.default=c,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return new Promise(function(e,r){return"function"!=typeof t.end?(a.default.warn({description:"req.end is not a function",func:"handleResponse"}),r({})):void t.end(function(t,n){return t?(401==t.status&&a.default.warn({description:"Unauthorized. You must be signed into make this request.",func:"handleResponse"}),t&&t.response?(a.default.warn({description:"Unauthorized. You must be signed into make this request.",error:t,func:"handleResponse"}),r(t.response.text)):r(t)):e(n.body)})})}function u(t){return c.default.string&&(t=t.set("Authorization","Bearer "+c.default.string)),t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=n(i),s=r(7),c=n(s),f=r(13),l=n(f),p={get:function(t,e){var r=l.default.get(t);return e&&r.query(e),r=u(r),o(r)},post:function(t,e){var r=l.default.post(t).send(e);return r=u(r),o(r)},put:function(t,e){var r=l.default.put(t,e);return r=u(r),o(r)},del:function(t,e){var r=l.default.put(t,e);return r=u(r),o(r)}};e.default=p,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=void 0;if(t&&""!=t)try{e=(0,p.default)(t)}catch(r){throw s.default.error({description:"Error decoding token.",data:e,error:r,func:"decodeToken",file:"token"}),new Error("Invalid token string.")}return e}Object.defineProperty(e,"__esModule",{value:!0});var u=r(3),i=n(u),a=r(1),s=n(a),c=r(5),f=n(c),l=r(10),p=n(l),d=r(2),h=n(d),g={get string(){return f.default.getItem(i.default.tokenName)},get data(){return f.default.getItem(i.default.tokenDataName)?f.default.getItem(i.default.tokenDataName):o(this.string)},set data(t){if(h.default.isString(t)){var e=t;t=o(e),s.default.info({description:"Token data was set as string. Decoding token.",token:e,tokenData:t,func:"data",obj:"token"})}else s.default.log({description:"Token data was set.",data:t,func:"data",obj:"token"}),f.default.setItem(i.default.tokenDataName,t)},set string(t){var e=void 0;if(h.default.isString(t))e=t;else{if(s.default.log({description:"Token data is not string.",token:t,func:"string",obj:"token"}),!h.default.isObject(t)||!h.default.has(t,"token"))return void s.default.error({description:"Invalid value set to token.",token:t,func:"string",obj:"token"});e=t.token}s.default.log({description:"Token was set.",token:t,tokenStr:e,func:"string",obj:"token"}),f.default.setItem(i.default.tokenName,e),this.data=(0,p.default)(e)},save:function(t){this.string=t},"delete":function(){f.default.removeItem(i.default.tokenName),f.default.removeItem(i.default.tokenDataName),s.default.log({description:"Token was removed.",func:"delete",obj:"token"})}};e.default=g,t.exports=e.default},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function u(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),c=o(s),f=r(1),l=o(f),p=r(4),d=n(p),h=r(3),g=o(h),v=function(){function t(e){i(this,t);var r=e.app,n=e.redirectUrl,o=e.provider;this.app=r,this.provider=o;var u=g.default.externalAuth[this.app.name]?g.default.externalAuth[this.app.name]:null;this.redirectUrl=u?u.redirectUrl:"/oauthcallback",n&&(this.redirectUrl=n)}return a(t,[{key:"getAuthUrl",value:function(){var t=this.app.endpoint+"/authUrl?provider="+this.provider+"&redirectUrl="+this.redirectUrl;return l.default.log({description:"Requesting Auth url.",endpointUrl:t,func:"getAuthUrl",obj:"providerAuth"}),c.default.get(t).then(function(t){return l.default.log({description:"Get auth url request successful.",authUrl:t,func:"getAuthUrl",obj:"providerAuth"}),t}).catch(function(t){return l.default.error({description:"Error requesting auth url.",error:t,func:"getAuthUrl",obj:"providerAuth"}),Promise.reject("External authentication not available.")})}},{key:"accountFromCode",value:function(t){return l.default.log({description:"Requesting Auth url.",code:t,func:"accountFromCode",obj:"providerAuth"}),c.default.post(this.app.endpoint+"/oauth2",{code:t}).then(function(t){return l.default.log({description:"Get auth url request successful.",account:t,func:"accountFromCode",obj:"providerAuth"}),t}).catch(function(t){return l.default.error({description:"Error requesting auth url.",error:t,func:"accountFromCode",obj:"providerAuth"}),Promise.reject("External authentication not available.")})}},{key:"login",value:function(){return this.getAuthUrl().then(function(t){return l.default.info({description:"Login response.",url:t,func:"login",obj:"providerAuth"}),t},function(t){return l.default.error({description:"Error initalizing hellojs.",error:t,func:"login",obj:"providerAuth"}),Promise.reject("Error with third party login.")})}},{key:"signup",value:function(){var t=g.default.externalAuth[this.app.name].google;"undefined"!=typeof window&&(window.oAuthCallback=function(t){console.log("oAuthcallback",t)});var e="https://apis.google.com/js/client.js?onload=OnLoadCallback";return new Promise(function(r,n){d.asyncLoadJs(e).then(function(){console.log("script loaded",u(window.gapi)),window.gapi.auth.authorize({client_id:t,scope:"https://www.googleapis.com/auth/plus.me"},function(t){return!t||t.error||t.message?(l.default.error({description:"Error authorizing with google"}),n(t.error||t.message)):(l.default.log({description:"Auth with google successful.",auth:t}),void r(t))})})})}}]),t}();e.default=v,t.exports=e.default},function(t,e,r){var n=r(12);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}var r=n.atob(e);try{return decodeURIComponent(escape(r))}catch(o){return r}}},function(t,e,r){"use strict";var n=r(9),o=r(11);t.exports=function(t){if(!t)throw new Error("Invalid token specified");return o(n(t.split(".")[1]))}},function(module,exports){module.exports=function(str){var parsed;return parsed="object"==typeof JSON?JSON.parse(str):eval("("+str+")")}},function(t,e,r){!function(){var t=e,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=function(){try{document.createElement("$")}catch(t){return t}}();t.btoa||(t.btoa=function(t){for(var e,o,u=0,i=r,a="";t.charAt(0|u)||(i="=",u%1);a+=i.charAt(63&e>>8-u%1*8)){if(o=t.charCodeAt(u+=.75),o>255)throw n;e=e<<8|o}return a}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw n;for(var e,o,u=0,i=0,a="";o=t.charAt(i++);~o&&(e=u%4?64*e+o:o,u++%4)?a+=String.fromCharCode(255&e>>(-2*u&6)):0)o=r.indexOf(o);return a})}()},function(t,e,r){function n(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function u(t){return t===Object(t)}function i(t){if(!u(t))return t;var e=[];for(var r in t)null!=t[r]&&a(e,r,t[r]);return e.join("&")}function a(t,e,r){return Array.isArray(r)?r.forEach(function(r){a(t,e,r)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}function s(t){for(var e,r,n={},o=t.split("&"),u=0,i=o.length;i>u;++u)r=o[u],e=r.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function c(t){var e,r,n,o,u=t.split(/\r?\n/),i={};u.pop();for(var a=0,s=u.length;s>a;++a)r=u[a],e=r.indexOf(":"),n=r.slice(0,e).toLowerCase(),o=b(r.slice(e+1)),i[n]=o;return i}function f(t){return/[\/+]json\b/.test(t)}function l(t){return t.split(/ *; */).shift()}function p(t){return m(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(t[n]=o),t},{})}function d(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var r=this;y.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new d(r)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,r.callback(o,e)})}function g(t,e){return"function"==typeof e?new h("GET",t).end(e):1==arguments.length?new h("GET",t):new h(t,e)}function v(t,e){var r=g("DELETE",t);return e&&r.end(e),r}var _,y=r(14),m=r(15);_="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,g.getXHR=function(){if(!(!_.XMLHttpRequest||_.location&&"file:"==_.location.protocol&&_.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var b="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=i,g.parseString=s,g.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},d.prototype.get=function(t){return this.header[t.toLowerCase()]},d.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=l(e);var r=p(e);for(var n in r)this[n]=r[n]},d.prototype.parseBody=function(t){var e=g.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},d.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},d.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.url=r,o},g.Response=d,y(h.prototype),h.prototype.use=function(t){return t(this),this},h.prototype.timeout=function(t){return this._timeout=t,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},h.prototype.set=function(t,e){if(u(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},h.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},h.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},h.prototype.type=function(t){return this.set("Content-Type",g.types[t]||t),this},h.prototype.parse=function(t){return this._parser=t,this},h.prototype.accept=function(t){return this.set("Accept",g.types[t]||t),this},h.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},h.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},h.prototype.field=function(t,e){return this._formData||(this._formData=new _.FormData),this._formData.append(t,e),this},h.prototype.attach=function(t,e,r){return this._formData||(this._formData=new _.FormData),this._formData.append(t,e,r),this},h.prototype.send=function(t){var e=u(t),r=this.getHeader("Content-Type");if(e&&u(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||o(t)?this:(r||this.type("json"),this)},h.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,r=this.xhr=g.getXHR(),u=this._query.join("&"),i=this._timeout,a=this._formData||this._data;this._callback=t||n,r.onreadystatechange=function(){if(4==r.readyState){var t;try{t=r.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var s=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(r.onprogress=s);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=s)}catch(c){}if(i&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},i)),u&&(u=g.serializeObject(u),this.url+=~this.url.indexOf("?")?"&"+u:"?"+u),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var l=this.getHeader("Content-Type"),p=this._parser||g.serialize[l?l.split(";")[0]:""];!p&&f(l)&&(p=g.serialize["application/json"]),p&&(a=p(a))}for(var d in this.header)null!=this.header[d]&&r.setRequestHeader(d,this.header[d]);return this.emit("request",this),r.send("undefined"!=typeof a?a:null),this},h.prototype.then=function(t,e){return this.end(function(r,n){r?e(r):t(n)})},g.Request=h,g.get=function(t,e,r){var n=g("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},g.head=function(t,e,r){var n=g("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.del=v,g.delete=v,g.patch=function(t,e,r){var n=g("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.post=function(t,e,r){var n=g("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.put=function(t,e,r){var n=g("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},t.exports=g},function(t,e){function r(t){return t?n(t):void 0}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,r){for(var n=0,o=t.length,u=3==arguments.length?r:t[n++];o>n;)u=e.call(null,u,t[n],++n,t);return u}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});